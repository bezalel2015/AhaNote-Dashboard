<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AhaNote í”„ë¡œì íŠ¸ ì „ëµ ëŒ€ì‹œë³´ë“œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #f8fafc; color: #334155; }
        .chart-container { position: relative; width: 100%; max-width: 600px; margin: 0 auto; height: 300px; }
        .card-hover:hover { transform: translateY(-2px); transition: transform 0.2s ease-in-out; }
        .active-tab { border-bottom: 2px solid #3b82f6; color: #2563eb; font-weight: 600; }
        .inactive-tab { color: #64748b; }
        .phase-connector { position: absolute; left: 1.25rem; top: 2.5rem; bottom: -1rem; width: 2px; background-color: #e2e8f0; z-index: 0; }
        .timeline-item:last-child .phase-connector { display: none; }
        
        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
    <!-- Chosen Palette: Warm Neutrals with Professional Blue Accents -->
    <!-- Application Structure Plan: Dashboard Layout. 
         Top: Header with Core Vision. 
         Nav: Tabs for 'ë¹„ì „ ë° ê¸°ìˆ (Vision & Tech)', 'ì¬ë¬´ ì „ëµ(Financial Strategy)', 'ë¡œë“œë§µ(Roadmap)'.
         Content: 
            - Vision & Tech: Interactive Architecture Diagram (Hybrid Model), Target Audience Cards.
            - Finance: Interactive Subscription Simulator (Sliders for price/users -> Real-time Chart updates).
            - Roadmap: Interactive Timeline filterable by Partner (Kim Young-jun, Kim Seung-jae, Kim Ji-soo).
         Why: This structure allows partners to focus on their specific domain while understanding the holistic strategy.
    -->
    <!-- Visualization & Content Choices:
         - Vision: Concept cards and a flow diagram using CSS Grid/Flex for the Hybrid AI Architecture.
         - Finance: Bar & Doughnut charts (Chart.js) to visualize OpEx ratios and Profit Margins based on user input. Justification: Financial data needs dynamic recalculation.
         - Roadmap: Filterable list to allow each partner to isolate their tasks.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="bg-slate-50 min-h-screen flex flex-col">

    <!-- Header Section -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <div>
                <h1 class="text-2xl font-bold text-slate-800 tracking-tight">AhaNote <span class="text-blue-600">Strategy</span></h1>
                <p class="text-xs text-slate-500 mt-1">ì„±ì¸ ADHDë¥¼ ìœ„í•œ ì´ˆê³ ì„±ëŠ¥ 'ë³´ì¡° ë‘ë‡Œ' í”„ë¡œì íŠ¸</p>
            </div>
            <div class="text-right hidden sm:block">
                <p class="text-sm font-medium text-slate-600">ëª©í‘œ: ì¸ì§€ ë¶€í•˜ ì œë¡œ (Zero Cognitive Load)</p>
                <p class="text-xs text-slate-400">ê¸°ìˆ  í•µì‹¬: 1ì´ˆ ì²˜ë¦¬ (1,000ms)</p>
            </div>
        </div>
        <!-- Navigation Tabs -->
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex space-x-8 border-t border-slate-100 mt-2">
            <button onclick="switchTab('vision')" id="tab-vision" class="active-tab py-3 px-1 text-sm focus:outline-none transition-colors">ë¹„ì „ & ì•„í‚¤í…ì²˜</button>
            <button onclick="switchTab('finance')" id="tab-finance" class="inactive-tab py-3 px-1 text-sm focus:outline-none transition-colors">ì¬ë¬´ & ê°€ê²© ì „ëµ</button>
            <button onclick="switchTab('roadmap')" id="tab-roadmap" class="inactive-tab py-3 px-1 text-sm focus:outline-none transition-colors">íŒŒíŠ¸ë„ˆ ì—…ë¬´ & ë¡œë“œë§µ</button>
        </nav>
    </header>

    <!-- Main Content Area -->
    <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full">

        <!-- TAB 1: VISION & ARCHITECTURE -->
        <div id="content-vision" class="space-y-8 animate-fade-in">
            
            <!-- Intro Block -->
            <div class="bg-white rounded-xl p-6 shadow-sm border border-slate-100">
                <h2 class="text-xl font-bold text-slate-800 mb-2">í”„ë¡œì íŠ¸ í•µì‹¬ ì² í•™</h2>
                <p class="text-slate-600 mb-4">
                    ì•„í•˜ë…¸íŠ¸ëŠ” ì¼ë°˜ì ì¸ ìŠ¤ì¼€ì¤„ëŸ¬ê°€ ì•„ë‹™ë‹ˆë‹¤. 
                    <span class="font-bold text-blue-600">ì„±ì¸ ADHD, ê±´ë§ì¦, ê¸°ì–µë ¥ ì €í•˜ ë…¸ì¸ì¸µ</span>ì„ ìœ„í•´ 
                    ì•±ì„ ì¼œê³  ë‹«ëŠ” í–‰ìœ„ë§Œìœ¼ë¡œ ê¸°ë¡ì´ ì™„ë£Œë˜ëŠ” <strong>'ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì™¸ë¶€ ë³´ì¡° ë‘ë‡Œ'</strong>ì…ë‹ˆë‹¤.
                    ìš°ë¦¬ì˜ ê²½ìŸë ¥ì€ ê¸°ëŠ¥ì˜ ìˆ˜ê°€ ì•„ë‹Œ, <strong>'1ì´ˆ ì²˜ë¦¬'</strong>ë¼ëŠ” ì••ë„ì ì¸ ì†ë„ì™€ ë‹¨ìˆœí•¨ì— ìˆìŠµë‹ˆë‹¤.
                </p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-6">
                    <div class="p-4 bg-blue-50 rounded-lg border border-blue-100">
                        <div class="text-2xl mb-2">ğŸ§ </div>
                        <h3 class="font-bold text-slate-700">ì¸ì§€ ë¶€í•˜ ì œë¡œ</h3>
                        <p class="text-sm text-slate-500">Zero Cognitive Load</p>
                    </div>
                    <div class="p-4 bg-indigo-50 rounded-lg border border-indigo-100">
                        <div class="text-2xl mb-2">âš¡</div>
                        <h3 class="font-bold text-slate-700">1ì´ˆ ì²˜ë¦¬</h3>
                        <p class="text-sm text-slate-500">1,000ms Latency Limit</p>
                    </div>
                    <div class="p-4 bg-emerald-50 rounded-lg border border-emerald-100">
                        <div class="text-2xl mb-2">ğŸ¤–</div>
                        <h3 class="font-bold text-slate-700">AI ì¦ê°• íŒŒíŠ¸ë„ˆì‹­</h3>
                        <p class="text-sm text-slate-500">Human + Gemini Collab</p>
                    </div>
                </div>
            </div>

            <!-- Architecture Diagram -->
            <div class="bg-white rounded-xl p-6 shadow-sm border border-slate-100">
                <h2 class="text-xl font-bold text-slate-800 mb-6">í•˜ì´ë¸Œë¦¬ë“œ AI ì•„í‚¤í…ì²˜ (Hybrid AI Architecture)</h2>
                <p class="text-sm text-slate-500 mb-6">ë¹„ìš© íš¨ìœ¨ì„±ê³¼ ì´ˆê³ ì„±ëŠ¥ì„ ë™ì‹œì— ì¡ê¸° ìœ„í•œ ì´ì›í™” ì „ëµì…ë‹ˆë‹¤. '1ì´ˆ ì²˜ë¦¬'ëŠ” í”„ë¦¬ë¯¸ì—„ ê°€ì¹˜ë¥¼, 'ë¹„ë™ê¸° ì²˜ë¦¬'ëŠ” ë§ˆì§„ ë°©ì–´ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.</p>
                
                <div class="flex flex-col md:flex-row gap-6">
                    <!-- Premium Lane -->
                    <div class="flex-1 bg-gradient-to-br from-blue-50 to-white border border-blue-200 rounded-xl p-5 relative overflow-hidden">
                        <div class="absolute top-0 right-0 bg-blue-600 text-white text-xs font-bold px-3 py-1 rounded-bl-lg">í•µì‹¬ ê°€ì¹˜ (Premium)</div>
                        <h3 class="font-bold text-blue-800 mb-4 text-lg">ğŸš€ 1ë¶„ ì´í•˜ (ìˆœê°„ ë©”ëª¨)</h3>
                        <div class="space-y-3">
                            <div class="flex items-center p-3 bg-white rounded-lg shadow-sm border border-blue-100">
                                <span class="w-24 text-xs font-semibold text-slate-500">STT ì—”ì§„</span>
                                <span class="flex-1 font-bold text-slate-700">ElevenLabs Scribe v2</span>
                                <span class="text-xs text-red-500 font-bold px-2 py-1 bg-red-50 rounded">150ms ì´ˆì €ì§€ì—°</span>
                            </div>
                            <div class="flex justify-center text-slate-400 text-lg">â†“</div>
                            <div class="flex items-center p-3 bg-white rounded-lg shadow-sm border border-blue-100">
                                <span class="w-24 text-xs font-semibold text-slate-500">AI ë¶„ì„</span>
                                <span class="flex-1 font-bold text-slate-700">Gemini AI (High-Perf)</span>
                                <span class="text-xs text-blue-500 px-2 py-1 bg-blue-50 rounded">ì¦‰ê° ë¶„ì„</span>
                            </div>
                            <div class="mt-4 pt-4 border-t border-blue-100 text-center">
                                <p class="text-sm font-bold text-blue-900">ê²°ê³¼: 1ì´ˆ ì´ë‚´ ì™„ë£Œ</p>
                                <p class="text-xs text-slate-500">ë†’ì€ OpEx, ë†’ì€ ê°€ì¹˜</p>
                            </div>
                        </div>
                    </div>

                    <!-- Efficiency Lane -->
                    <div class="flex-1 bg-gradient-to-br from-slate-50 to-white border border-slate-200 rounded-xl p-5 relative">
                        <div class="absolute top-0 right-0 bg-slate-500 text-white text-xs font-bold px-3 py-1 rounded-bl-lg">ë§ˆì§„ ë°©ì–´ (Efficient)</div>
                        <h3 class="font-bold text-slate-700 mb-4 text-lg">ğŸ¢ 1ë¶„ ì´ˆê³¼ (ì¥ì‹œê°„ íšŒì˜)</h3>
                        <div class="space-y-3">
                            <div class="flex items-center p-3 bg-white rounded-lg shadow-sm border border-slate-200">
                                <span class="w-24 text-xs font-semibold text-slate-500">STT ì—”ì§„</span>
                                <span class="flex-1 text-slate-700">Google / Whisper (Batch)</span>
                                <span class="text-xs text-emerald-600 font-bold px-2 py-1 bg-emerald-50 rounded">ë¹„ìš© 95% ì ˆê°</span>
                            </div>
                            <div class="flex justify-center text-slate-400 text-lg">â†“</div>
                            <div class="flex items-center p-3 bg-white rounded-lg shadow-sm border border-slate-200">
                                <span class="w-24 text-xs font-semibold text-slate-500">AI ë¶„ì„</span>
                                <span class="flex-1 text-slate-700">Gemini Flash (Low-Cost)</span>
                                <span class="text-xs text-slate-500 px-2 py-1 bg-slate-100 rounded">ë¹„ë™ê¸° ì²˜ë¦¬</span>
                            </div>
                            <div class="mt-4 pt-4 border-t border-slate-200 text-center">
                                <p class="text-sm font-bold text-slate-700">ê²°ê³¼: 5~15ë¶„ ì†Œìš”</p>
                                <p class="text-xs text-slate-500">ë‚®ì€ OpEx, ë§ˆì§„ í™•ë³´</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 2: FINANCIAL STRATEGY -->
        <div id="content-finance" class="hidden space-y-8 animate-fade-in">
            <!-- Intro Block -->
            <div class="bg-white rounded-xl p-6 shadow-sm border border-slate-100">
                <h2 class="text-xl font-bold text-slate-800 mb-2">ì¬ë¬´ ì‹œë®¬ë ˆì´í„°</h2>
                <p class="text-slate-600">
                    ì•„í•˜ë…¸íŠ¸ì˜ ê³ ì„±ëŠ¥ ì•„í‚¤í…ì²˜ëŠ” ìš´ìš© ë¹„ìš©(OpEx)ì´ ë†’ìŠµë‹ˆë‹¤. 
                    ì•„ë˜ ì‹œë®¬ë ˆì´í„°ë¥¼ í†µí•´ <strong>êµ¬ë…ë£Œ ì±…ì •</strong>ê³¼ <strong>ì‚¬ìš©ì ìˆ˜</strong>ê°€ 
                    ì‚¬ì—…ì˜ ì§€ì† ê°€ëŠ¥ì„±(ìˆœì´ìµ ë§ˆì§„)ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•˜ì„¸ìš”.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Controls -->
                <div class="bg-white rounded-xl p-6 shadow-sm border border-slate-100 lg:col-span-1">
                    <h3 class="font-bold text-slate-700 mb-6">ë³€ìˆ˜ ì„¤ì •</h3>
                    
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-slate-700 mb-2">ì›” êµ¬ë…ë£Œ (KRW)</label>
                        <select id="price-select" class="w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-shadow" onchange="updateFinance()">
                            <option value="4500">4,500ì› (ìœ„í—˜ - ìˆœì†ì‹¤)</option>
                            <option value="10000">10,000ì› (ê²½ìŸì‚¬ ìˆ˜ì¤€)</option>
                            <option value="14500" selected>14,500ì› (ì´ˆê¸° ì§„ì… ê¶Œì¥)</option>
                            <option value="19900">19,900ì› (ìµœì¢… ëª©í‘œ)</option>
                        </select>
                    </div>

                    <div class="mb-6">
                        <label class="block text-sm font-medium text-slate-700 mb-2">êµ¬ë…ì ìˆ˜: <span id="user-count-display" class="text-blue-600 font-bold">800</span>ëª…</label>
                        <input type="range" id="user-slider" min="100" max="5000" step="100" value="800" class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600" oninput="updateFinance()">
                        <div class="flex justify-between text-xs text-slate-400 mt-1">
                            <span>100ëª…</span>
                            <span>5,000ëª…</span>
                        </div>
                    </div>

                    <div class="p-4 bg-amber-50 rounded-lg border border-amber-100 text-sm text-amber-800">
                        <h4 class="font-bold mb-1">ğŸ’¡ ì „ëµ íŒ</h4>
                        <p id="strategy-tip">êµ¬ë…ì 800ëª… ë‹¬ì„± ì‹œ, ElevenLabsì™€ ëŒ€ê·œëª¨ ë³¼ë¥¨ ê³„ì•½ì„ ì²´ê²°í•˜ì—¬ ë¹„ìš©ì„ ë‚®ì¶°ì•¼ í•©ë‹ˆë‹¤.</p>
                    </div>
                </div>

                <!-- Visualization -->
                <div class="bg-white rounded-xl p-6 shadow-sm border border-slate-100 lg:col-span-2">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 h-full">
                        <div class="flex flex-col justify-center">
                            <h3 class="font-bold text-slate-700 mb-4 text-center">ì›”ê°„ ì˜ˆìƒ ì†ìµ (KRW)</h3>
                            <div class="chart-container" style="height: 250px;">
                                <canvas id="profitChart"></canvas>
                            </div>
                        </div>
                        <div class="flex flex-col justify-center">
                            <h3 class="font-bold text-slate-700 mb-4 text-center">ë¹„ìš© êµ¬ì¡° (OpEx)</h3>
                            <div class="chart-container" style="height: 250px;">
                                <canvas id="costChart"></canvas>
                            </div>
                        </div>
                    </div>
                    <!-- Results Text -->
                    <div class="mt-6 grid grid-cols-3 gap-4 text-center border-t border-slate-100 pt-4">
                        <div>
                            <p class="text-xs text-slate-500">ì´ ë§¤ì¶œ (Revenue)</p>
                            <p id="total-revenue" class="text-lg font-bold text-slate-800">â‚©0</p>
                        </div>
                        <div>
                            <p class="text-xs text-slate-500">ì´ ë¹„ìš© (OpEx)</p>
                            <p id="total-opex" class="text-lg font-bold text-red-600">â‚©0</p>
                        </div>
                        <div>
                            <p class="text-xs text-slate-500">ìˆœìˆ˜ìµ (Net Profit)</p>
                            <p id="net-profit" class="text-lg font-bold text-green-600">â‚©0</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 3: ROADMAP & PARTNERS -->
        <div id="content-roadmap" class="hidden space-y-8 animate-fade-in">
             <!-- Intro Block -->
             <div class="bg-white rounded-xl p-6 shadow-sm border border-slate-100">
                <h2 class="text-xl font-bold text-slate-800 mb-2">íŒŒíŠ¸ë„ˆë³„ ì—…ë¬´ ë¶„ì¥ ë° ë¡œë“œë§µ</h2>
                <p class="text-slate-600 mb-4">
                    ì•„ë˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ íŒŒíŠ¸ë„ˆë³„ í•µì‹¬ ê³¼ì—…ì„ í™•ì¸í•˜ì„¸ìš”. 
                    ìš°ë¦¬ëŠ” 'AI ì¦ê°• ì• ìì¼' ë°©ì‹ìœ¼ë¡œ í˜‘ì—…í•˜ë©°, ê°ìì˜ ì „ë¬¸ì„±ì„ í†µí•´ '1ì´ˆ ì²˜ë¦¬' ë¹„ì „ì„ ì™„ì„±í•©ë‹ˆë‹¤.
                </p>
                
                <!-- Partner Filters -->
                <div class="flex flex-wrap gap-3">
                    <button onclick="filterRoadmap('all')" class="filter-btn active px-4 py-2 bg-slate-800 text-white rounded-full text-sm font-medium transition-all shadow-sm ring-2 ring-transparent focus:ring-slate-300">ì „ì²´ ë³´ê¸°</button>
                    <button onclick="filterRoadmap('youngjun')" class="filter-btn px-4 py-2 bg-white text-slate-600 border border-slate-200 rounded-full text-sm font-medium hover:bg-slate-50 transition-all">ğŸ§‘â€ğŸ’¼ ê¹€ì˜ì¤€ (ì´ê´„/UX)</button>
                    <button onclick="filterRoadmap('seungjae')" class="filter-btn px-4 py-2 bg-white text-slate-600 border border-slate-200 rounded-full text-sm font-medium hover:bg-slate-50 transition-all">ğŸ‘¨â€ğŸ’» ê¹€ìŠ¹ì¬ (ê¸°ìˆ /ì‹œìŠ¤í…œ)</button>
                    <button onclick="filterRoadmap('jisoo')" class="filter-btn px-4 py-2 bg-white text-slate-600 border border-slate-200 rounded-full text-sm font-medium hover:bg-slate-50 transition-all">ğŸ‘©â€ğŸ’¼ ê¹€ì§€ìˆ˜ (ì¬ë¬´/ë§ˆì¼€íŒ…)</button>
                </div>
            </div>

            <!-- Roadmap Timeline -->
            <div class="relative pl-4 sm:pl-8 space-y-8" id="roadmap-container">
                <!-- Timeline populated by JS -->
            </div>
        </div>

    </main>

    <footer class="bg-white border-t border-slate-100 py-6 mt-12">
        <div class="max-w-7xl mx-auto px-4 text-center text-xs text-slate-400">
            <p>AhaNote Project Internal Document | Created with Gemini</p>
        </div>
    </footer>

    <script>
        // --- State Management ---
        const state = {
            currentTab: 'vision',
            price: 14500,
            users: 800,
            filter: 'all'
        };

        // --- Data: Financial Constants (Monthly Estimates) ---
        // Exchange Rate: ~1460 KRW/$
        const COSTS = {
            elevenLabsPerHour: 0.22 * 1460, // ~321 KRW
            userUsageHours: 7.5, // 15 mins/day * 30
            geminiPerUser: 3285, // Estimate based on previous discussion (~$2.25)
            serverPerUser: 912,  // Estimate (~$0.625)
            fixedCost: 0 // Assume minimal fixed for now, scaling mostly variable
        };

        // --- Data: Roadmap ---
        const roadmapData = [
            {
                phase: "Phase 1: MVP (í•µì‹¬ ê°€ì¹˜ ì¦ëª…)",
                duration: "ì•½ 8ì£¼",
                color: "blue",
                tasks: [
                    { owner: "youngjun", role: "ì´ê´„/UX", task: "í•µì‹¬ ê¸°ëŠ¥ ì •ì˜ (MVP ë²”ìœ„) ë° ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜ í”„ë¡¬í”„íŠ¸ ì„¤ê³„", desc: "ì œë¡œ ì¸ì§€ ë¶€í•˜ë¥¼ ìœ„í•œ ì•± ì¢…ë£Œ ì œìŠ¤ì²˜ ë“± ì´ˆë‹¨ìˆœ UX í”„ë¡œí† íƒ€ì… ì œì‘." },
                    { owner: "jisoo", role: "ì¬ë¬´/ë§ˆì¼€íŒ…", task: "ì´ˆê¸° ì˜ˆì‚°/OpEx ê´€ë¦¬ ì²´ê³„ í™•ë¦½", desc: "MVP í…ŒìŠ¤íŠ¸ ê·¸ë£¹ í™•ë³´ ë° ì´ˆê¸° ì‚¬ìš©ì ëŒ€ìƒ ìœ ë£Œ ì „í™˜ ì‹œë®¬ë ˆì´ì…˜ ì¤€ë¹„." },
                    { owner: "seungjae", role: "ê¸°ìˆ ", task: "ElevenLabs/Gemini API ì—°ë™ (1ì´ˆ ì²˜ë¦¬ ë¡œì§)", desc: "í´ë¼ìš°ë“œ ì„œë²„, Firestore DB ì´ˆê¸° êµ¬ì¶• ë° ë°±ì—”ë“œ íŒŒì´í”„ë¼ì¸ ì™„ì„±." },
                    { owner: "seungjae", role: "ê¸°ìˆ ", task: "ëª¨ë°”ì¼ ì•± í™˜ê²½ êµ¬ì¶•", desc: "React Native ê¸°ë°˜ UX ë””ìì¸ í•µì‹¬ ì½”ë”© (ë…¹ìŒ ê¸°ëŠ¥ ìœ„ì£¼)." }
                ]
            },
            {
                phase: "Phase 2: ê¸°ëŠ¥ í™•ì¥ ë° ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸",
                duration: "ì•½ 8ì£¼",
                color: "indigo",
                tasks: [
                    { owner: "seungjae", role: "ê¸°ìˆ ", task: "1ë¶„ ì´ˆê³¼ ë…¹ìŒ ì²˜ë¦¬ ë¡œì§ êµ¬í˜„", desc: "ì €ê°€ STT ì—°ë™ ë° ë¹„ë™ê¸° ì²˜ë¦¬ ì‹œìŠ¤í…œ(Batch) êµ¬ì¶•ìœ¼ë¡œ ë¹„ìš© ì ˆê°." },
                    { owner: "youngjun", role: "ì´ê´„/UX", task: "ìŠ¤ë§ˆíŠ¸ ê¸°ë³¸ê°’ & ë¹„ì¹¨íˆ¬ì  ì„¤ì • ì •ì˜", desc: "ì¸ì§€ ë¶€í•˜ ì œë¡œë¥¼ ìœ ì§€í•˜ë©° ê³ ê¸‰ ê¸°ëŠ¥ì„ ìˆ¨ê¸°ëŠ” ì‹¬ë¦¬í•™ì  UX ì„¤ê³„." },
                    { owner: "jisoo", role: "ì¬ë¬´/ë§ˆì¼€íŒ…", task: "14,500ì› ì´ˆê¸° êµ¬ë…ë£Œ ì‹¤í–‰ ê³„íš", desc: "ëŒ€ê·œëª¨ ë³¼ë¥¨ ê³„ì•½ í˜‘ìƒ ë¡œë“œë§µ ìˆ˜ë¦½." },
                    { owner: "seungjae", role: "ê¸°ìˆ ", task: "ìŒì„± ë©”ì‹œì§€ ìë™ ë°œì†¡ ê¸°ëŠ¥ ê°œë°œ", desc: "Gemini í™œìš© ë©”ì‹œì§€ ìƒì„± ë° API ì—°ë™." },
                    { owner: "youngjun", role: "ì´ê´„/UX", task: "ìµœì¢… MVP í’ˆì§ˆ ê²€í† ", desc: "ADHD/ë…¸ì¸ì¸µ ëŒ€ìƒ ì‹¬ì¸µ ì‚¬ìš©ì í…ŒìŠ¤íŠ¸ ì§„í–‰ ë° í”¼ë“œë°± ë°˜ì˜." }
                ]
            },
            {
                phase: "Phase 3: ìŠ¤ì¼€ì¼ë§ (ì§€ì†ì )",
                duration: "ì§€ì†ì ",
                color: "emerald",
                tasks: [
                    { owner: "jisoo", role: "ì¬ë¬´/ë§ˆì¼€íŒ…", task: "ëŒ€ê·œëª¨ ë³¼ë¥¨ ê³„ì•½ í˜‘ìƒ ì‹¤í–‰", desc: "Gemini/ElevenLabs ë‹¨ìœ„ë‹¹ ë¹„ìš© ì ˆê° ë° 19,900ì› ê°€ê²© ì „í™˜ ë§ˆì¼€íŒ…." },
                    { owner: "jisoo", role: "ì¬ë¬´/ë§ˆì¼€íŒ…", task: "ì‹œì¥ í™•ëŒ€ (ADHD/ë…¸ì¸)", desc: "íƒ€ê²Ÿ ë§ˆì¼€íŒ… ì±„ë„ í™•ë³´ ë° ë³´ì¡° ë‘ë‡Œ ë¸Œëœë”© ê°•í™”." },
                    { owner: "seungjae", role: "ê¸°ìˆ ", task: "ì™¸ë¶€ API ì—°ë™ í™•ì¥", desc: "Zoom/Teams íšŒì˜ ë´‡ ê°œë°œ ë“± ê¸°ìˆ ì  í™•ì¥ì„± í™•ë³´." },
                    { owner: "youngjun", role: "ì´ê´„/UX", task: "ë…¸ì¸ì¸µ ë§ì¶¤ UX ìµœì í™”", desc: "ê¸€ì”¨, ëŒ€ë¹„, ìŒì„± ì•ˆë‚´ ê°•í™” ë° ì¥ê¸° ë¡œë“œë§µ ê²°ì •." }
                ]
            }
        ];

        // --- Functions ---

        function switchTab(tabName) {
            state.currentTab = tabName;
            
            // Hide all contents
            ['vision', 'finance', 'roadmap'].forEach(t => {
                document.getElementById(`content-${t}`).classList.add('hidden');
                const btn = document.getElementById(`tab-${t}`);
                btn.classList.remove('active-tab', 'text-blue-600', 'border-blue-600');
                btn.classList.add('inactive-tab');
            });

            // Show current
            document.getElementById(`content-${tabName}`).classList.remove('hidden');
            const activeBtn = document.getElementById(`tab-${tabName}`);
            activeBtn.classList.remove('inactive-tab');
            activeBtn.classList.add('active-tab', 'text-blue-600', 'border-blue-600');

            if (tabName === 'finance') {
                updateFinance();
            } else if (tabName === 'roadmap') {
                renderRoadmap();
            }
        }

        let profitChartInstance = null;
        let costChartInstance = null;

        function updateFinance() {
            const price = parseInt(document.getElementById('price-select').value);
            const users = parseInt(document.getElementById('user-slider').value);
            document.getElementById('user-count-display').innerText = users.toLocaleString();

            // Calculate Costs (Monthly)
            const elevenLabsCost = users * COSTS.userUsageHours * COSTS.elevenLabsPerHour;
            const geminiCost = users * COSTS.geminiPerUser;
            const infraCost = users * COSTS.serverPerUser;
            
            const totalOpEx = elevenLabsCost + geminiCost + infraCost;
            const revenue = users * price;
            const netProfit = revenue - totalOpEx;
            const margin = (netProfit / revenue) * 100;

            // Update Text
            document.getElementById('total-revenue').innerText = `â‚©${Math.round(revenue).toLocaleString()}`;
            document.getElementById('total-opex').innerText = `â‚©${Math.round(totalOpEx).toLocaleString()}`;
            
            const profitEl = document.getElementById('net-profit');
            profitEl.innerText = `â‚©${Math.round(netProfit).toLocaleString()}`;
            profitEl.className = netProfit >= 0 ? "text-lg font-bold text-green-600" : "text-lg font-bold text-red-600";

            // Update Strategy Tip
            const tipEl = document.getElementById('strategy-tip');
            if (price === 4500) {
                tipEl.innerText = "ğŸš¨ ê²½ê³ : 4,500ì›ì€ êµ¬ì¡°ì ì¸ ì ìì…ë‹ˆë‹¤. ì‚¬ì—… ì§€ì†ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.";
                tipEl.parentElement.className = "p-4 bg-red-50 rounded-lg border border-red-100 text-sm text-red-800";
            } else if (users < 800) {
                tipEl.innerText = "ğŸ’¡ 800ëª… ë¯¸ë§Œ êµ¬ê°„ì…ë‹ˆë‹¤. ì´ˆê¸° ì‚¬ìš©ìë¥¼ ë¹ ë¥´ê²Œ í™•ë³´í•˜ì—¬ BEPë¥¼ ë„˜ê²¨ì•¼ í•©ë‹ˆë‹¤.";
                tipEl.parentElement.parentElement.className = "p-4 bg-amber-50 rounded-lg border border-amber-100 text-sm text-amber-800";
            } else {
                tipEl.innerText = "âœ… 800ëª… ë‹¬ì„±! ì´ì œ ëŒ€ê·œëª¨ ë³¼ë¥¨ ê³„ì•½ì„ í†µí•´ ElevenLabs ë¹„ìš©ì„ ë‚®ì¶° ë§ˆì§„ì„ 60% ì´ìƒìœ¼ë¡œ ì˜¬ë ¤ì•¼ í•©ë‹ˆë‹¤.";
                tipEl.parentElement.className = "p-4 bg-emerald-50 rounded-lg border border-emerald-100 text-sm text-emerald-800";
            }

            // Update Charts
            updateCharts(revenue, totalOpEx, netProfit, elevenLabsCost, geminiCost, infraCost);
        }

        function updateCharts(revenue, opex, profit, c1, c2, c3) {
            const ctxProfit = document.getElementById('profitChart').getContext('2d');
            const ctxCost = document.getElementById('costChart').getContext('2d');

            // Profit Chart (Bar)
            if (profitChartInstance) profitChartInstance.destroy();
            profitChartInstance = new Chart(ctxProfit, {
                type: 'bar',
                data: {
                    labels: ['ë§¤ì¶œ (Revenue)', 'ë¹„ìš© (OpEx)', 'ìˆœì´ìµ (Profit)'],
                    datasets: [{
                        label: 'ê¸ˆì•¡ (KRW)',
                        data: [revenue, opex, profit],
                        backgroundColor: [
                            '#3b82f6', // blue
                            '#ef4444', // red
                            profit >= 0 ? '#10b981' : '#b91c1c' // green or dark red
                        ],
                        borderRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { y: { beginAtZero: true } }
                }
            });

            // Cost Chart (Doughnut)
            if (costChartInstance) costChartInstance.destroy();
            costChartInstance = new Chart(ctxCost, {
                type: 'doughnut',
                data: {
                    labels: ['ElevenLabs (STT)', 'Gemini (AI)', 'Server/Infra'],
                    datasets: [{
                        data: [c1, c2, c3],
                        backgroundColor: ['#f59e0b', '#8b5cf6', '#64748b'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom', labels: { boxWidth: 12, font: { size: 10 } } }
                    }
                }
            });
        }

        function filterRoadmap(person) {
            state.filter = person;
            
            // Update buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                if(btn.innerText.toLowerCase().includes(person === 'all' ? 'ì „ì²´' : (person === 'youngjun' ? 'ê¹€ì˜ì¤€' : (person === 'seungjae' ? 'ê¹€ìŠ¹ì¬' : 'ê¹€ì§€ìˆ˜')))) {
                   btn.classList.add('bg-slate-800', 'text-white', 'ring-2', 'ring-slate-300');
                   btn.classList.remove('bg-white', 'text-slate-600', 'border');
                } else {
                   btn.classList.remove('bg-slate-800', 'text-white', 'ring-2', 'ring-slate-300');
                   btn.classList.add('bg-white', 'text-slate-600', 'border');
                }
            });

            renderRoadmap();
        }

        function renderRoadmap() {
            const container = document.getElementById('roadmap-container');
            container.innerHTML = '';

            roadmapData.forEach((phase, index) => {
                const filteredTasks = phase.tasks.filter(t => state.filter === 'all' || t.owner === state.filter);
                
                if (state.filter !== 'all' && filteredTasks.length === 0) return; // Skip empty phases if filtering

                const phaseHtml = `
                    <div class="timeline-item relative pb-10">
                        <div class="phase-connector"></div>
                        <div class="absolute left-0 top-0 flex items-center justify-center w-10 h-10 rounded-full bg-${phase.color}-100 border-2 border-${phase.color}-500 text-${phase.color}-600 font-bold z-10 shadow-sm">
                            ${index + 1}
                        </div>
                        <div class="ml-4 bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden">
                            <div class="bg-${phase.color}-50 px-6 py-3 border-b border-${phase.color}-100 flex justify-between items-center">
                                <h3 class="font-bold text-${phase.color}-800">${phase.phase}</h3>
                                <span class="text-xs font-semibold text-${phase.color}-600 bg-white px-2 py-1 rounded border border-${phase.color}-200">${phase.duration}</span>
                            </div>
                            <div class="p-4 divide-y divide-slate-100">
                                ${filteredTasks.map(task => {
                                    let badgeColor = 'slate';
                                    let name = '';
                                    if(task.owner === 'youngjun') { badgeColor = 'blue'; name = 'ê¹€ì˜ì¤€'; }
                                    if(task.owner === 'seungjae') { badgeColor = 'indigo'; name = 'ê¹€ìŠ¹ì¬'; }
                                    if(task.owner === 'jisoo') { badgeColor = 'rose'; name = 'ê¹€ì§€ìˆ˜'; }

                                    return `
                                    <div class="py-3 flex flex-col sm:flex-row gap-3 sm:items-start group hover:bg-slate-50 transition-colors rounded-lg p-2">
                                        <div class="min-w-[80px]">
                                            <span class="inline-block px-2 py-0.5 text-xs font-bold text-${badgeColor}-700 bg-${badgeColor}-100 rounded-full">
                                                ${name}
                                            </span>
                                        </div>
                                        <div>
                                            <p class="text-sm font-bold text-slate-700">${task.task}</p>
                                            <p class="text-xs text-slate-500 mt-1 leading-relaxed">${task.desc}</p>
                                        </div>
                                    </div>
                                    `;
                                }).join('')}
                                ${filteredTasks.length === 0 ? '<p class="text-sm text-slate-400 italic p-2">ì´ ë‹¨ê³„ì— í•´ë‹¹ íŒŒíŠ¸ë„ˆì˜ ì£¼ìš” íƒœìŠ¤í¬ê°€ ì—†ìŠµë‹ˆë‹¤.</p>' : ''}
                            </div>
                        </div>
                    </div>
                `;
                container.innerHTML += phaseHtml;
            });
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            switchTab('vision');
            // Ensure charts render hidden then appear when tab switches
        });

    </script>
</body>
</html>
